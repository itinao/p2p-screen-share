<!DOCTYPE HTML>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="google-site-verification" content="WQL2kPnlQk5mPyCCsY8PsQMnRKBL0kAVIPSQhhHyQuk" />
  <title>Share | Desktop Capture Share</title>
  <link rel="shortcut icon" href="../img/favicon.ico">
  <link rel="stylesheet" href="../build/css/share.min.css">
  <script type="text/javascript" src="../build/vendors/polymer/platform/platform.js"></script>
</head>
<body unresolved>

<link rel="import" href="../build/vendors/polymer/core-toolbar/core-toolbar.html">
<link rel="import" href="../build/vendors/polymer/core-icon-button/core-icon-button.html">
<link rel="import" href="../build/components/peer-video.html">
<link rel="import" href="../build/components/x-loading.html">

<core-toolbar class="tall">
  <span flex>Desktop Capture Share</span>
  <core-icon-button id="home-button" icon="home"></core-icon-button>
  <core-icon-button id="fullscreen-button" icon="fullscreen"></core-icon-button>
</core-toolbar>

<div class="sns-links">
  <div id="m-sns-links">
    <a class="facebook-link" href="https://www.facebook.com/sharer/sharer.php?u=http://screen-share.itinao.asia/" target="_blank"><span class="fa fa-facebook"></span></a>
    <a class="twitter-link" href="https://twitter.com/share?url=http://screen-share.itinao.asia/" target="_blank"><span class="fa fa-twitter"></span></a>
    <a class="google-link" href="https://plus.google.com/share?url=http://screen-share.itinao.asia/" target="_blank"><span class="fa fa-google-plus"></span></a>
  </div>
</div>

<div id="video-content" class="video-content">
  <peer-video id="peer-video" hidden class="content-animation" host="screen-share-signaling.itinao.asia" port="8080" path="/share" debug="2"></peer-video>
</div>

<x-loading id="loading"></x-loading>


<script>
document.addEventListener('polymer-ready', function(e) {
  var videoContent = window['video-content'];
  var homeButton = window['home-button'];
  var fullscreenButton = window['fullscreen-button'];

  // homeへ
  homeButton.addEventListener('click', function(event) {
    window.open("index.html");
  });

  // フルスクリーン化
  fullscreenButton.addEventListener('click', function(event) {
    videoContent.classList.add("fullscreen");
  });

  // フルスクリーン化 解除
  videoContent.addEventListener('click', function(event) {
    videoContent.classList.remove("fullscreen");
  });

  // Load時のアニメーション
  var peerVideo = window['peer-video'];
  var loading = window['loading'];
  peerVideo.onStreamCallback = function() {
    setTimeout(function() {// loadしてる感を出すため300ms
      loading.remove();
      peerVideo.hidden = false;
    }, 300);
  };
});
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56094808-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
